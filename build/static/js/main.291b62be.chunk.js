(this["webpackJsonpreact-course"]=this["webpackJsonpreact-course"]||[]).push([[0],{24:function(e,t,a){e.exports={list:"PlayerList_list__2ZZ1i",row:"PlayerList_row__1HPZC",col6:"PlayerList_col6__3Vc1Q",divcircle:"PlayerList_divcircle__1b2ZH"}},28:function(e,t,a){e.exports={info:"PlayerItem_info__IOYoZ",teama:"PlayerItem_teama__j6dyZ",teamb:"PlayerItem_teamb__2fGz3",light:"PlayerItem_light__mB-wX",divcircle:"PlayerItem_divcircle__o2n7Y"}},39:function(e,t,a){e.exports={divcircle:"PlayerList_divcircle__1VZaT",actions:"PlayerList_actions__qh5j_"}},57:function(e,t,a){e.exports={form:"NewPlayerForm_form__7c21Z",control:"NewPlayerForm_control__1eeMn",actions:"NewPlayerForm_actions__2_KN1"}},58:function(e,t,a){e.exports={form:"EditPlayerForm_form__13RZ4",control:"EditPlayerForm_control__3JmoC",actions:"EditPlayerForm_actions__1vyl8"}},65:function(e,t,a){e.exports={main:"Layout_main__3QUDM"}},69:function(e,t,a){e.exports={card:"Card_card__39fCf"}},71:function(e,t,a){e.exports={actionicon:"ProfileIcon_actionicon__1Erhd"}},84:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(22),r=a.n(n),i=(a(84),a(13)),s=a(4),o=a(117),l=a(123),d=a(124),u=a(61),j=a(63),m=a(64),f=a(31),b=a(3),x=function(e){return Object(b.jsxs)(o.a,{spacing:"xs",size:"sm",center:!0,icon:Object(b.jsx)(l.a,{color:"teal",size:24,radius:"xl",children:Object(b.jsx)(u.a,{size:12})}),children:[Object(b.jsx)(o.a.Item,{children:Object(b.jsx)(d.a,{component:f.a,to:"/",onClick:e.pageChanged,children:"Generate teams"})}),Object(b.jsx)(o.a.Item,{icon:Object(b.jsx)(l.a,{color:"blue",size:24,radius:"xl",children:Object(b.jsx)(j.a,{size:12})}),children:Object(b.jsx)(d.a,{component:f.a,to:"/manage",onClick:e.pageChanged,children:"Score teammates"})}),Object(b.jsx)(o.a.Item,{icon:Object(b.jsx)(l.a,{color:"blue",size:24,radius:"xl",children:Object(b.jsx)(m.a,{size:12})}),children:Object(b.jsx)(d.a,{component:f.a,to:"/profile",onClick:e.pageChanged,children:"My Profile"})})]})},p=a(65),h=a.n(p),g=a(29),O=a(116),y=a(125),v=a(126),S=a(127),P=a(120),C=a(121),k=a(21),I=a(122),_=a(15),N="https://udemy-ng-http-5d0d5.firebaseio.com/playersv2.json",w=Object(c.createContext)({groupName:"",players:[],selectedPlayers:[],profilePlayerScores:[],totalSelectedPlayers:0,profileId:0,profileName:"",profileImgSrc:"",loadPlayers:function(e){},updatePlayers:function(e){},loadProfilePlayerScores:function(e){},updateProfilePlayerScore:function(e){},addSelectedPlayer:function(e){},removeSelectedPlayer:function(e){},itemIsSelectedPlayer:function(e){},updateProfileId:function(e){},updateProfileName:function(e){},updateProfileImgSrc:function(e){},updateInitialItemIndex:function(e){}});function B(e){var t=Object(_.useState)(null),a=Object(s.a)(t,2),c=a[0],n=a[1],r=Object(_.useState)([]),i=Object(s.a)(r,2),o=i[0],l=i[1],d=Object(_.useState)([]),u=Object(s.a)(d,2),j=u[0],m=u[1],f=Object(_.useState)([]),x=Object(s.a)(f,2),p=x[0],h=x[1],g=Object(_.useState)(null),O=Object(s.a)(g,2),y=O[0],v=O[1],S=Object(_.useState)(null),P=Object(s.a)(S,2),C=P[0],k=P[1],I=Object(_.useState)(null),N=Object(s.a)(I,2),B=N[0],z=N[1],A=Object(_.useState)(0),F=Object(s.a)(A,2),M=F[0],T=F[1];var L={groupName:c,players:o,profileId:y,profileName:C,profileImgSrc:B,initialItemIndex:M,selectedPlayers:j,profilePlayerScores:p,totalSelectedPlayers:j.length,loadGroupName:function(e){n((function(t){return e}))},loadPlayers:function(e){null===y&&null!==localStorage.getItem("PlayerId")&&v((function(e){return localStorage.getItem("PlayerId")})),l((function(t){return e}))},updatePlayer:function(e){l((function(e){return e}))},addSelectedPlayer:function(e){m((function(t){return t.concat(e)}))},removeSelectedPlayer:function(e){m((function(t){return t.filter((function(t){return t.id!==e}))}))},itemIsSelectedPlayer:function(e){return j.some((function(t){return t.id===e}))},loadProfilePlayerScores:function(e){h((function(t){return e}))},updateProfilePlayerScore:function(e,t,a){h((function(c){null==c&&(c=[]);var n=c.find((function(t){return t.playerId===e}));switch(c=c.filter((function(t){return t.playerId!==e})),void 0===n&&(n={attack:0,defense:0,stamina:0,playerId:e}),t){case"attack":n.attack=a;break;case"defense":n.defense=a;break;case"stamina":n.stamina=a}return c.push(n),c}))},updateProfileId:function(e){return v((function(t){return e}))},updateProfileName:function(e){return k((function(t){return e}))},updateProfileImgSrc:function(e){return z((function(t){return e}))},updateInitialItemIndex:function(e){return T((function(t){return e}))}};return Object(b.jsx)(w.Provider,{value:L,children:e.children})}var z=w,A=function(e){var t=Object(c.useContext)(z).profileName,a=Object(c.useContext)(z).profileImgSrc,n=Object(c.useState)(!1),r=Object(s.a)(n,2),i=r[0],o=r[1],l=Object(g.c)();return Object(b.jsx)(O.a,{padding:"md",header:Object(b.jsx)(y.a,{height:70,padding:"md",style:{backgroundColor:"#e7e7e7"},children:Object(b.jsxs)("div",{style:{display:"flex",alignItems:"center",height:"100%"},children:[Object(b.jsx)(v.a,{largerThan:"sm",styles:{display:"none"},children:Object(b.jsx)(S.a,{opened:i,onClick:function(){return o((function(e){return!e}))},size:"sm",color:l.colors.gray[6],mr:"xl"})}),null!=t&&Object(b.jsxs)(P.a,{noWrap:!0,style:{height:"25px",float:"right"},children:[Object(b.jsx)(C.a,{src:a,radius:"xl",size:"lg"}),Object(b.jsx)("div",{style:{flex:1},children:Object(b.jsx)(k.a,{size:"sm",weight:500,children:t})})]})]})}),navbar:Object(b.jsx)(I.a,{padding:"md",hiddenBreakpoint:"sm",hidden:!i,width:{sm:300,lg:400},children:Object(b.jsx)(x,{pageChanged:function(){o(!1)}})}),styles:function(e){return{main:{backgroundColor:"dark"===e.colorScheme?e.colors.dark[8]:e.colors.gray[0]}}},children:Object(b.jsx)("main",{className:h.a.main,children:e.children})})},F=a(9),M=a(66),T=a(54),L=a.n(T),D=a(119),E=a(59),Z=a(6),R=a(75),J=a(118),U=a(129),q=a(10),H=function(e,t,a){if(null!=e){var c=e.find((function(e){return e.playerId===t}));if(void 0!==c)switch(a){case"attack":return c.attack<=10?10*c.attack:c.attack;case"defense":return c.defense<=10?10*c.defense:c.defense;case"stamina":if(void 0!==c.stamina)return c.stamina;if(void 0!==c.construction)return Math.ceil(10*(parseInt(c.construction)+parseInt(c.resistence)+parseInt(c.technique))/3)}}return 0};function V(e,t,a,c,n,r,i){n===r&&i.push(function(e,t,a){var c=t,n=c.map((function(e){return e.id})),r=e.filter((function(e){return n.indexOf(e.id)<0}));return{teamAIds:n,attackA:c.reduce((function(e,t){return e+t.attack}),0),defenseA:c.reduce((function(e,t){return e+t.defense}),0),staminaA:c.reduce((function(e,t){return e+t.stamina}),0),teamBIds:r.map((function(e){return e.id})),attackB:r.reduce((function(e,t){return e+t.attack}),0),defenseB:r.reduce((function(e,t){return e+t.defense}),0),staminaB:r.reduce((function(e,t){return e+t.stamina}),0)}}(e,t.slice(0,r)));for(var s=a;s<=c&&c-s+1>=r-n;s++)t[n]=e[s],V(e,t,s+1,c,n+1,r,i)}function W(e,t,a,c){V(e,new Array(a),0,t-1,0,a,c)}var G=a(56),Q=a(128),Y=a(28),K=a.n(Y),X=function(e){var t=Object(c.useContext)(z),a=t.itemIsSelectedPlayer(e.id),n=e.attack,r=e.defense,i=e.stamina;return Object(b.jsx)("li",{className:a?"teama"===e.activeClass?K.a.teama:"teamb"===e.activeClass?K.a.teamb:K.a.info:K.a.light,onClick:function(){a?t.removeSelectedPlayer(e.id):t.addSelectedPlayer({id:e.id,name:e.name,imgSrc:e.imgSrc,attack:n,defense:r,stamina:i})},children:Object(b.jsx)(J.a,{shadow:"sm",bg:a?e.activeClass:"light",text:a?e.activeClass:"light",style:{width:"100%",marginBottom:"10px",cursor:"pointer"},className:"mb-1",padding:"sm",children:Object(b.jsxs)(P.a,{noWrap:!0,style:{height:"25px",gap:"0px",marginLeft:"-10px"},children:[Object(b.jsx)(C.a,{src:e.imgSrc,radius:"xl",size:"lg"}),Object(b.jsxs)("div",{style:{flex:1,width:"100%"},children:[Object(b.jsx)(k.a,{size:"sm",weight:500,style:{float:"left"},children:e.name}),Object(b.jsx)("div",{className:K.a.divcircle,children:Object(b.jsx)(q.a,{value:i,text:"".concat(i),styles:Object(q.b)({pathColor:"rgba(34, 139, 230, ".concat(i/100,")"),textColor:"#228be6",textSize:"40px"})})}),Object(b.jsx)("div",{className:K.a.divcircle,children:Object(b.jsx)(q.a,{value:r,text:"".concat(r),styles:Object(q.b)({pathColor:"rgba(64, 192, 87, ".concat(r/100,")"),textColor:"#40c057",textSize:"40px"})})}),Object(b.jsx)("div",{className:K.a.divcircle,children:Object(b.jsx)(q.a,{value:n,text:"".concat(n),styles:Object(q.b)({pathColor:"rgba(250, 82, 82, ".concat(n/100,")"),textColor:"#fa5252",textSize:"40px"})})})]}),!0!==e.hideCheckbox&&Object(b.jsx)(Q.a,{checked:a,onChange:function(){},tabIndex:-1,style:{marginLeft:"16px"}})]})})})},$=a(24),ee=a.n($),te=function(e){var t=Object(g.c)(),a=Object(_.useState)(1),n=Object(s.a)(a,2),r=n[0],i=n[1],o=Object(_.useState)([]),l=Object(s.a)(o,2),d=l[0],u=l[1],j=e.players;Object(c.useEffect)((function(){var t=e.selectedPlayers.length,a=Math.floor(t/2),c=[];W(e.selectedPlayers,t,a,c);var n=c.map((function(e){return Object(F.a)(Object(F.a)({},e),{},{difference:Math.abs(e.attackA+e.defenseA+e.staminaA-e.attackB-e.defenseB-e.staminaB)})}));n=n.sort((function(e,t){return parseFloat(e.difference)-parseFloat(t.difference)})).slice(0,5),u(n),i(1)}),[e.selectedPlayers]);var m=d[r-1];void 0!==m&&(m.teamAtotalScore=m.attackA+m.defenseA+m.staminaA,m.teamBtotalScore=m.attackB+m.defenseB+m.staminaB);var f=e.selectedPlayers.filter((function(e){return m.teamAIds.indexOf(e.id)>=0})),x=e.selectedPlayers.filter((function(e){return m.teamBIds.indexOf(e.id)>=0}));d.length>=r&&(f.attack=Math.floor(d[r-1].attackA/d[r-1].teamAIds.length),f.defense=Math.floor(d[r-1].defenseA/d[r-1].teamAIds.length),f.stamina=Math.floor(d[r-1].staminaA/d[r-1].teamAIds.length),x.attack=Math.floor(d[r-1].attackB/d[r-1].teamBIds.length),x.defense=Math.floor(d[r-1].defenseB/d[r-1].teamBIds.length),x.stamina=Math.floor(d[r-1].staminaB/d[r-1].teamBIds.length));return Object(b.jsxs)(_.Fragment,{children:[Object(b.jsx)("ul",{className:ee.a.list,children:j.map((function(e){return Object(b.jsx)(X,{id:e.id,name:e.name,attack:e.attack,defense:e.defense,stamina:e.stamina,imgSrc:e.imgSrc,activeClass:"info"},e.id)}))}),f.length>1&&Object(b.jsxs)(D.a,{children:[Object(b.jsxs)(D.a.Col,{md:12,children:[Object(b.jsx)(E.a,{my:"xs",label:"Generated teams",labelPosition:"center",variant:"dashed"}),Object(b.jsxs)(Z.a,{sx:function(e){return{textAlign:"center",padding:"10px 0 0 0",fontWeight:"bold"}},children:[Object(b.jsx)(R.a,{onClick:function(){i(r-1)},disabled:1===r,style:{float:"left",marginLeft:"10px"},children:Object(b.jsx)(G.a,{size:"40",color:1===r?"#ced4da":"#228be6"})}),"#",r," Best matchup ",(m.teamAtotalScore<m.teamBtotalScore?m.teamAtotalScore/m.teamBtotalScore*100:m.teamBtotalScore/m.teamAtotalScore*100).toLocaleString("en",{minimumFractionDigits:2,maximumFractionDigits:2}),"%",Object(b.jsx)(R.a,{onClick:function(){i(r+1)},disabled:r>=5,style:{float:"right",marginRight:"10px"},children:Object(b.jsx)(G.b,{size:"40",color:r>=5?"#ced4da":"#228be6"})})]})]}),Object(b.jsx)(D.a.Col,{md:6,children:Object(b.jsx)(J.a,{shadow:"sm",padding:"lg",style:{paddingTop:0},children:Object(b.jsxs)(P.a,{position:"apart",style:{marginBottom:5,marginTop:t.spacing.sm},children:[Object(b.jsx)("div",{style:{width:"100%"},children:Object(b.jsxs)(U.a,{variant:"filled",style:{backgroundColor:"#bfefe1",padding:"18px 6px 18px 7px",float:"right"},children:[Object(b.jsxs)(k.a,{size:"md",weight:700,style:{float:"left"},color:"black",styles:{textTransform:"none !important"},children:["Team A ",Object(b.jsxs)("small",{children:["(",m.teamAtotalScore,")"]})]}),Object(b.jsx)("div",{className:ee.a.divcircle,children:Object(b.jsx)(q.a,{value:f.stamina,text:"".concat(f.stamina),styles:Object(q.b)({pathColor:"rgba(34, 139, 230, ".concat(f.stamina/100,")"),textColor:"#228be6",textSize:"40px"})})}),Object(b.jsx)("div",{className:ee.a.divcircle,children:Object(b.jsx)(q.a,{value:f.defense,text:"".concat(f.defense),styles:Object(q.b)({pathColor:"rgba(64, 192, 87, ".concat(f.defense/100,")"),textColor:"#40c057",textSize:"40px"})})}),Object(b.jsx)("div",{className:ee.a.divcircle,children:Object(b.jsx)(q.a,{value:f.attack,text:"".concat(f.attack),styles:Object(q.b)({pathColor:"rgba(250, 82, 82, ".concat(f.attack/100,")"),textColor:"#fa5252",textSize:"40px"})})})]})}),Object(b.jsx)("ul",{className:ee.a.list,children:f.map((function(e){return Object(b.jsx)(X,{id:e.id,name:e.name,attack:e.attack,defense:e.defense,stamina:e.stamina,imgSrc:e.imgSrc,hideCheckbox:!0,activeClass:"teama"},e.id)}))})]})})}),Object(b.jsx)(D.a.Col,{md:6,children:Object(b.jsx)(J.a,{shadow:"sm",padding:"lg",style:{paddingTop:0},children:Object(b.jsxs)(P.a,{position:"apart",style:{marginBottom:5,marginTop:t.spacing.sm},children:[Object(b.jsxs)(U.a,{color:"yellow",variant:"filled",size:"lg",style:{backgroundColor:"#f7e5b0",padding:"18px 6px 18px 7px"},children:[Object(b.jsxs)(k.a,{size:"md",weight:700,style:{float:"left"},color:"black",children:["Team B ",Object(b.jsxs)("small",{children:["(",m.teamBtotalScore,")"]})]}),Object(b.jsx)("div",{className:ee.a.divcircle,children:Object(b.jsx)(q.a,{value:x.stamina,text:"".concat(x.stamina),styles:Object(q.b)({pathColor:"rgba(34, 139, 230, ".concat(x.stamina/100,")"),textColor:"#228be6",textSize:"40px"})})}),Object(b.jsx)("div",{className:ee.a.divcircle,children:Object(b.jsx)(q.a,{value:x.defense,text:"".concat(x.defense),styles:Object(q.b)({pathColor:"rgba(64, 192, 87, ".concat(x.defense/100,")"),textColor:"#40c057",textSize:"40px"})})}),Object(b.jsx)("div",{className:ee.a.divcircle,children:Object(b.jsx)(q.a,{value:x.attack,text:"".concat(x.attack),styles:Object(q.b)({pathColor:"rgba(250, 82, 82, ".concat(x.attack/100,")"),textColor:"#fa5252",textSize:"40px"})})})]}),Object(b.jsx)("ul",{className:ee.a.list,children:x.map((function(e){return Object(b.jsx)(X,{id:e.id,name:e.name,attack:e.attack,defense:e.defense,stamina:e.stamina,imgSrc:e.imgSrc,hideCheckbox:!0,activeClass:"teamb"},e.id)}))})]})})})]})]})};var ae=function(){var e=Object(c.useContext)(z),t=Object(c.useState)(!0),a=Object(s.a)(t,2),n=a[0],r=a[1],i=Object(c.useState)(null),o=Object(s.a)(i,2),l=o[0],d=o[1],u=Object(c.useCallback)(Object(M.a)(L.a.mark((function t(){var a,c,n,i,s,o,l,u,j;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("fetching data..."),r(!0),d(null),t.prev=3,t.next=6,fetch(e.getApiUrl());case 6:if((a=t.sent).ok){t.next=9;break}throw new Error("Something went wrong!");case 9:return t.next=11,a.json();case 11:for(i in c=t.sent,n=[],c)s=Object(F.a)({id:i},c[i]),n.push(s);for(o=function(){for(var e=u[l],t=function(){var t=c[a],r=n.reduce((function(a,c){return a+H(c.playerScores,e.id,t)}),0),i=n.reduce((function(a,c){return a+(H(c.playerScores,e.id,t)>0?1:0)}),0);e[t]=Math.floor(r/i)},a=0,c=["attack","defense","stamina"];a<c.length;a++)t()},l=0,u=n;l<u.length;l++)o();e.loadPlayers(n.sort((function(e,t){return t.attack+t.defense+t.stamina-e.attack-e.defense-e.stamina}))),null!==localStorage.getItem("PlayerId")&&(j=n.find((function(e){return e.id===localStorage.getItem("PlayerId")})),e.loadProfilePlayerScores(j.playerScores),e.updateProfileName(j.name),e.updateProfileImgSrc(j.imgSrc)),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(3),d(t.t0.message);case 23:r(!1);case 24:case"end":return t.stop()}}),t,null,[[3,20]])}))),[]);return Object(c.useEffect)((function(){0===e.players.length?u():r(!1)}),[u,e.players.length]),n?Object(b.jsx)("section",{children:"Loading..."}):l?Object(b.jsx)("p",{children:l}):Object(b.jsx)("section",{children:Object(b.jsx)(te,{players:e.players,selectedPlayers:e.selectedPlayers})})},ce=a(11),ne=a(130),re=a(108),ie=a(69),se=a.n(ie),oe=function(e){return Object(b.jsx)("div",{className:se.a.card,children:e.children})},le=a(57),de=a.n(le),ue=a(70),je=function(e){var t=Object(c.useState)(!1),a=Object(s.a)(t,2),n=a[0],r=a[1],i=Object(c.useRef)();return Object(b.jsxs)(c.Fragment,{children:[!n&&Object(b.jsx)(ne.a,{leftIcon:Object(b.jsx)(ue.a,{}),onClick:function(e){r(!0)},style:{margin:"20px"},children:"Add New Player"}),n&&Object(b.jsx)(oe,{children:Object(b.jsxs)("form",{className:de.a.form,onSubmit:function(t){t.preventDefault();var a=i.current.value;e.onAddPlayer(a),r(!1)},children:[Object(b.jsx)(re.a,{required:!0,label:"Name",placeholder:"Player name",ref:i}),Object(b.jsxs)("div",{className:de.a.actions,children:[Object(b.jsx)(ne.a,{type:"button",color:"gray",onClick:function(e){r(!1),i.current.value=""},children:"Cancel"}),Object(b.jsx)(ne.a,{type:"submit",color:"indigo",ml:10,children:"Save"})]})]})})]})},me=a(67),fe=a(115),be=a(114),xe=a(109),pe=(a(96),a(39)),he=a.n(pe),ge=function(e){var t=e.label,a=e.image,c=e.attack,n=e.defense,r=e.stamina;return Object(b.jsxs)(P.a,{noWrap:!0,children:[Object(b.jsx)(C.a,{src:a,radius:"xl",size:"lg"}),Object(b.jsxs)("div",{style:{width:"100%"},children:[Object(b.jsx)(k.a,{style:{float:"left"},children:t}),Object(b.jsx)("div",{className:he.a.divcircle,children:Object(b.jsx)(q.a,{value:r,text:"".concat(r),styles:Object(q.b)({pathColor:"rgba(34, 139, 230, ".concat(r/100,")"),textColor:"#228be6",textSize:"40px"})})}),Object(b.jsx)("div",{className:he.a.divcircle,children:Object(b.jsx)(q.a,{value:n,text:"".concat(n),styles:Object(q.b)({pathColor:"rgba(64, 192, 87, ".concat(n/100,")"),textColor:"#40c057",textSize:"40px"})})}),Object(b.jsx)("div",{className:he.a.divcircle,children:Object(b.jsx)(q.a,{value:c,text:"".concat(c),styles:Object(q.b)({pathColor:"rgba(250, 82, 82, ".concat(c/100,")"),textColor:"#fa5252",textSize:"40px"})})})]})]})},Oe=function(){var e=Object(c.useContext)(z),t=Object(xe.a)(),a=e.profileId,n=e.players,r=e.profilePlayerScores,i=e.initialItemIndex,o=Object(_.useState)(!1),l=Object(s.a)(o,2),d=l[0],u=l[1];void 0!==e.profilePlayerScores&&0!==e.profilePlayerScores.length||null==e.players.find((function(e){return e.id===a})).playerScores||e.loadProfilePlayerScores(e.players.find((function(e){return e.id===a})).playerScores);var j=function(){fetch(N.replace(".json","")+"/"+a+"/playerScores.json",{method:"PUT",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((function(){t.showNotification({title:"Scores update",message:"Data was saved",color:"teal",icon:Object(b.jsx)(me.a,{}),autoClose:2e3}),u(!1)}))},m=function(t,a,c){u(!0),e.updateProfilePlayerScore(t,a,c)};return Object(b.jsxs)(c.Fragment,{children:[Object(b.jsx)(fe.a,{initialItem:i,iconPosition:"right",onChange:function(t){for(var a=0;a<n.length;a++)if(!0===t[a]){e.updateInitialItemIndex(a);break}d&&j()},children:n.filter((function(e){return e.id!==a})).map((function(e){return Object(b.jsxs)(fe.a.Item,{label:Object(b.jsx)(ge,{image:e.imgSrc,attack:H(r,e.id,"attack"),defense:H(r,e.id,"defense"),stamina:H(r,e.id,"stamina"),label:e.name}),onToggle:!0,children:[Object(b.jsx)(k.a,{children:"Atac"}),Object(b.jsx)(be.a,{color:"red",min:11,defaultValue:H(r,e.id,"attack"),onChange:function(t){return m(e.id,"attack",t)}}),Object(b.jsx)(k.a,{children:"Defense"}),Object(b.jsx)(be.a,{color:"green",min:11,defaultValue:H(r,e.id,"defense"),onChange:function(t){return m(e.id,"defense",t)}}),Object(b.jsx)(k.a,{children:"Stamina"}),Object(b.jsx)(be.a,{min:11,defaultValue:H(r,e.id,"stamina"),onChange:function(t){return m(e.id,"stamina",t)}})]},e.id)}))}),d&&Object(b.jsx)("div",{className:he.a.actions,children:Object(b.jsx)(ne.a,{type:"button",color:"indigo",ml:10,onClick:function(){j()},children:"Save"})})]})};var ye=function(){var e=Object(c.useContext)(z),t=e.profileId,a=Object(i.useHistory)();return null!==e.players&&0!==e.players.length||a.replace("/"),0!==t&&null!==t||a.replace("/profile"),Object(b.jsxs)(_.Fragment,{children:[Object(b.jsx)("h2",{children:"Manage players"}),null!==t&&Object(b.jsx)(Oe,{}),Object(b.jsx)(je,{onAddPlayer:function(t){var a={id:Math.max.apply(Math,e.players.map((function(e){return e.y}))),name:t},c=Object(ce.a)(e.players);c.push(a),e.loadPlayers(c),fetch(N,{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(){console.log("submitted...")}))}})]})},ve=a(12),Se=a(112),Pe=a(45),Ce=a(58),ke=a.n(Ce),Ie=a(71),_e=a.n(Ie),Ne=function(e){return Object(b.jsx)(R.a,{onClick:function(){return e.onAvatarClicked(e.imgSrc)},className:_e.a.actionicon,children:Object(b.jsx)(C.a,{src:e.imgSrc,radius:"xl",size:"lg",style:{backgroundColor:e.isSelected?"#5481a9":"transparent"}})})},we=["https://img.icons8.com/clouds/256/000000/futurama-bender.png","https://img.icons8.com/clouds/2x/homer-simpson.png","https://img.icons8.com/clouds/256/000000/futurama-mom.png","https://img.icons8.com/clouds/2x/spongebob-squarepants.png","https://img.icons8.com/clouds/2x/mando.png","https://img.icons8.com/clouds/2x/stormtrooper.png","https://img.icons8.com/clouds/2x/kokichi.png","https://img.icons8.com/clouds/2x/Bakugou.png","https://img.icons8.com/bubbles/2x/walter-white.png","https://img.icons8.com/clouds/2x/super-mario.png","https://img.icons8.com/clouds/2x/anonymous-mask.png","https://img.icons8.com/clouds/2x/jake.png","https://img.icons8.com/clouds/2x/nurse-female.png","https://img.icons8.com/clouds/2x/camo-cream.png","https://img.icons8.com/clouds/2x/user-female.png","https://img.icons8.com/clouds/2x/user-male.png","https://img.icons8.com/clouds/2x/winner.png","https://img.icons8.com/clouds/2x/gender-neutral-user.png","https://img.icons8.com/clouds/2x/santa.png","https://img.icons8.com/clouds/2x/champagne-bottle.png","https://img.icons8.com/clouds/2x/edvard-munch.png","https://img.icons8.com/clouds/2x/frida-kahlo.png","https://img.icons8.com/clouds/2x/fraud.png","https://img.icons8.com/clouds/2x/comedy.png"],Be=function(e){var t=Object(c.useContext)(z);Object(c.useEffect)((function(){var a=t.players.find((function(t){return t.id===e.id}));i(void 0===a?"":a.name),u(void 0===a?"":a.imgSrc)}),[e.id]);var a=Object(c.useState)(""),n=Object(s.a)(a,2),r=n[0],i=n[1],o=Object(c.useState)(""),l=Object(s.a)(o,2),d=l[0],u=l[1],j=function(e){u(e)};return Object(b.jsxs)(c.Fragment,{children:[Object(b.jsx)("hr",{style:{marginBottom:"20px"}}),Object(b.jsx)(oe,{children:Object(b.jsxs)("form",{className:ke.a.form,onSubmit:function(t){t.preventDefault(),e.onUpdatePlayer(r,d)},children:[Object(b.jsx)(re.a,{required:!0,label:"Name",placeholder:"Player name",value:r,onChange:function(e){return i(e.target.value)}}),we.map((function(e){return Object(b.jsx)(Ne,{imgSrc:e,isSelected:e===d,onAvatarClicked:j},e)})),Object(b.jsx)("div",{className:ke.a.actions,children:Object(b.jsx)(ne.a,{type:"submit",color:"indigo",ml:10,children:"Save"})})]})})]})},ze=["id","image","label"],Ae=function(){var e=Object(c.useContext)(z),t=Object(xe.a)(),a=e.profileId,n=Object(Pe.useHistory)();null!==e.players&&0!==e.players.length||n.replace("/");var r=e.players.map((function(e){return{id:e.id,image:e.imgSrc,label:e.name,value:e.id}})),i=Object(c.forwardRef)((function(e,t){e.id;var a=e.image,c=e.label,n=Object(ve.a)(e,ze);return Object(b.jsx)("div",Object(F.a)(Object(F.a)({ref:t},n),{},{children:Object(b.jsxs)(P.a,{noWrap:!0,children:[Object(b.jsx)(C.a,{src:a}),Object(b.jsx)("div",{children:Object(b.jsx)(k.a,{children:c})})]})}))}));return Object(b.jsxs)(c.Fragment,{children:[Object(b.jsx)(Se.a,{label:"Choose profile",placeholder:"Identify yourself",itemComponent:i,data:r,value:a,maxDropdownHeight:400,nothingFound:"Nobody here",onChange:function(t){if(null!==t){e.updateProfileId(t),localStorage.setItem("PlayerId",t);var a=e.players.find((function(e){return e.id===t}));e.updateProfileName(a.name),e.updateProfileImgSrc(a.imgSrc);var c=Object(F.a)(Object(F.a)({},a),{},{playerScores:e.playerScores}),n=[].concat(Object(ce.a)(e.players.filter((function(e){return e.id!==t}))),[c]);e.loadPlayers(n),e.loadProfilePlayerScores(e.players.find((function(e){return e.id===t})).playerScores)}}}),null!==a&&Object(b.jsx)(Be,{id:a,onUpdatePlayer:function(c,n){var r=e.players.find((function(e){return e.id===a})),i=Object(F.a)(Object(F.a)({},r),{},{name:c,imgSrc:n});e.updateProfileName(i.name),e.updateProfileImgSrc(i.imgSrc),fetch(N.replace(".json","")+"/"+i.id+".json",{method:"PUT",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}}).then((function(){var c=[].concat(Object(ce.a)(e.players.filter((function(e){return e.id!==a}))),[i]);e.loadPlayers(c),t.showNotification({title:"Profile update",message:"Data was saved",color:"teal",icon:Object(b.jsx)(me.a,{}),autoClose:2e3})}))}})]})},Fe=function(){return Object(b.jsx)(Ae,{})};var Me=function(){return Object(b.jsx)(A,{children:Object(b.jsxs)(i.Switch,{children:[Object(b.jsx)(i.Route,{path:"/",exact:!0,children:Object(b.jsx)(ae,{})}),Object(b.jsx)(i.Route,{path:"/manage",children:Object(b.jsx)(ye,{})}),Object(b.jsx)(i.Route,{path:"/profile",children:Object(b.jsx)(Fe,{})})]})})},Te=a(113);r.a.render(Object(b.jsx)(B,{children:Object(b.jsx)(Pe.BrowserRouter,{children:Object(b.jsx)(g.a,{theme:{colorScheme:"light"},children:Object(b.jsx)(Te.a,{children:Object(b.jsx)(Me,{})})})})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.291b62be.chunk.js.map