(this["webpackJsonpreact-course"]=this["webpackJsonpreact-course"]||[]).push([[0],{24:function(e,t,a){e.exports={list:"PlayerList_list__2ZZ1i",row:"PlayerList_row__1HPZC",col6:"PlayerList_col6__3Vc1Q",divcircle:"PlayerList_divcircle__1b2ZH"}},29:function(e,t,a){e.exports={info:"PlayerItem_info__IOYoZ",teama:"PlayerItem_teama__j6dyZ",teamb:"PlayerItem_teamb__2fGz3",light:"PlayerItem_light__mB-wX",divcircle:"PlayerItem_divcircle__o2n7Y"}},39:function(e,t,a){e.exports={divcircle:"PlayerList_divcircle__1VZaT",actions:"PlayerList_actions__qh5j_"}},58:function(e,t,a){e.exports={form:"NewPlayerForm_form__7c21Z",control:"NewPlayerForm_control__1eeMn",actions:"NewPlayerForm_actions__2_KN1"}},59:function(e,t,a){e.exports={form:"EditPlayerForm_form__13RZ4",control:"EditPlayerForm_control__3JmoC",actions:"EditPlayerForm_actions__1vyl8"}},65:function(e,t,a){e.exports={main:"Layout_main__3QUDM"}},69:function(e,t,a){e.exports={card:"Card_card__39fCf"}},71:function(e,t,a){e.exports={actionicon:"ProfileIcon_actionicon__1Erhd"}},84:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(22),r=a.n(n),i=(a(84),a(13)),s=a(4),o=a(117),l=a(123),d=a(124),u=a(62),j=a(63),m=a(64),f=a(21),b=a(3),p=function(e){var t=Object(i.useParams)();return Object(b.jsxs)(o.a,{spacing:"xs",size:"sm",center:!0,icon:Object(b.jsx)(l.a,{color:"teal",size:24,radius:"xl",children:Object(b.jsx)(u.a,{size:12})}),children:[Object(b.jsx)(o.a.Item,{children:Object(b.jsx)(d.a,{component:f.a,to:"/".concat(t.team,"/"),onClick:e.pageChanged,children:"Generate teams"})}),Object(b.jsx)(o.a.Item,{icon:Object(b.jsx)(l.a,{color:"blue",size:24,radius:"xl",children:Object(b.jsx)(j.a,{size:12})}),children:Object(b.jsx)(d.a,{component:f.a,to:"/".concat(t.team,"/manage"),onClick:e.pageChanged,children:"Score teammates"})}),Object(b.jsx)(o.a.Item,{icon:Object(b.jsx)(l.a,{color:"blue",size:24,radius:"xl",children:Object(b.jsx)(m.a,{size:12})}),children:Object(b.jsx)(d.a,{component:f.a,to:"/".concat(t.team,"/profile"),onClick:e.pageChanged,children:"My Profile"})})]})},x=a(65),h=a.n(x),O=a(30),g=a(116),y=a(125),v=a(126),S=a(127),P=a(120),C=a(121),k=a(20),I=a(122),_=Object(c.createContext)({groupName:"",players:[],selectedPlayers:[],profilePlayerScores:[],totalSelectedPlayers:0,profileId:0,profileName:"",profileImgSrc:"",loadPlayers:function(e){},updatePlayers:function(e){},loadProfilePlayerScores:function(e){},updateProfilePlayerScore:function(e){},addSelectedPlayer:function(e){},removeSelectedPlayer:function(e){},itemIsSelectedPlayer:function(e){},updateProfileId:function(e){},updateProfileName:function(e){},updateProfileImgSrc:function(e){},updateInitialItemIndex:function(e){}});function N(e){var t=Object(c.useState)(null),a=Object(s.a)(t,2),n=a[0],r=a[1],i=Object(c.useState)([]),o=Object(s.a)(i,2),l=o[0],d=o[1],u=Object(c.useState)([]),j=Object(s.a)(u,2),m=j[0],f=j[1],p=Object(c.useState)([]),x=Object(s.a)(p,2),h=x[0],O=x[1],g=Object(c.useState)(null),y=Object(s.a)(g,2),v=y[0],S=y[1],P=Object(c.useState)(null),C=Object(s.a)(P,2),k=C[0],I=C[1],N=Object(c.useState)(null),w=Object(s.a)(N,2),B=w[0],z=w[1],A=Object(c.useState)(0),F=Object(s.a)(A,2),T=F[0],M=F[1];var L={groupName:n,players:l,profileId:v,profileName:k,profileImgSrc:B,initialItemIndex:T,selectedPlayers:m,profilePlayerScores:h,totalSelectedPlayers:m.length,loadGroupName:function(e){r((function(t){return e}))},loadPlayers:function(e){null===v&&null!==localStorage.getItem("PlayerId")&&S((function(e){return localStorage.getItem("PlayerId")})),d((function(t){return e}))},updatePlayer:function(e){d((function(e){return e}))},addSelectedPlayer:function(e){f((function(t){return t.concat(e)}))},removeSelectedPlayer:function(e){f((function(t){return t.filter((function(t){return t.id!==e}))}))},itemIsSelectedPlayer:function(e){return m.some((function(t){return t.id===e}))},loadProfilePlayerScores:function(e){O((function(t){return e}))},updateProfilePlayerScore:function(e,t,a){O((function(c){null==c&&(c=[]);var n=c.find((function(t){return t.playerId===e}));switch(c=c.filter((function(t){return t.playerId!==e})),void 0===n&&(n={attack:0,defense:0,stamina:0,playerId:e}),t){case"attack":n.attack=a;break;case"defense":n.defense=a;break;case"stamina":n.stamina=a}return c.push(n),c}))},updateProfileId:function(e){return S((function(t){return e}))},updateProfileName:function(e){return I((function(t){return e}))},updateProfileImgSrc:function(e){return z((function(t){return e}))},updateInitialItemIndex:function(e){return M((function(t){return e}))}};return Object(b.jsx)(_.Provider,{value:L,children:e.children})}var w=_,B=function(e){var t=Object(c.useContext)(w).profileName,a=Object(c.useContext)(w).profileImgSrc,n=Object(c.useContext)(w).groupName,r=Object(c.useState)(!1),i=Object(s.a)(r,2),o=i[0],l=i[1],u=Object(O.c)();return Object(b.jsx)(g.a,{padding:"md",header:Object(b.jsx)(y.a,{height:70,padding:"md",style:{backgroundColor:"#e7e7e7"},children:Object(b.jsxs)("div",{style:{display:"flex",alignItems:"center",height:"100%"},children:[Object(b.jsx)(v.a,{largerThan:"sm",styles:{display:"none"},children:Object(b.jsx)(S.a,{opened:o,onClick:function(){return l((function(e){return!e}))},size:"sm",color:u.colors.gray[6],mr:"xl"})}),null!=t&&Object(b.jsx)(d.a,{component:f.a,to:"/".concat(n,"/profile"),children:Object(b.jsxs)(P.a,{noWrap:!0,style:{height:"25px",float:"right"},children:[Object(b.jsx)(C.a,{src:a,radius:"xl",size:"lg"}),Object(b.jsx)("div",{style:{flex:1},children:Object(b.jsx)(k.a,{size:"sm",weight:500,children:t})})]})})]})}),navbar:Object(b.jsx)(I.a,{padding:"md",hiddenBreakpoint:"sm",hidden:!o,width:{sm:300,lg:400},children:Object(b.jsx)(p,{pageChanged:function(){l(!1)}})}),styles:function(e){return{main:{backgroundColor:"dark"===e.colorScheme?e.colors.dark[8]:e.colors.gray[0]}}},children:Object(b.jsx)("main",{className:h.a.main,children:e.children})})},z=function(){return Object(b.jsx)("div",{style:{paddingTop:"100px"},children:Object(b.jsxs)("center",{children:["Contact site admin (",Object(b.jsx)("a",{href:"mailto:brobert6@gmail.com?subject=Teams generator",children:"brobert6@gmail.com"}),") to set up your teams."," "]})})},A=a(9),F=a(66),T=a(55),M=a.n(T),L=a(119),D=a(60),E=a(6),R=a(75),Z=a(118),J=a(129),q=a(10),G=a(26),H=function(e){return"https://udemy-ng-http-5d0d5.firebaseio.com/players.json".replace(".json","/"+e+".json")},U=function(e,t,a){if(null!=e){var c=e.find((function(e){return e.playerId===t}));if(void 0!==c)switch(a){case"attack":return c.attack<=10?10*c.attack:c.attack;case"defense":return c.defense<=10?10*c.defense:c.defense;case"stamina":if(void 0!==c.stamina)return c.stamina;if(void 0!==c.construction)return Math.ceil(10*(parseInt(c.construction)+parseInt(c.resistence)+parseInt(c.technique))/3)}}return 0};function V(e,t,a,c,n,r,i){n===r&&i.push(function(e,t,a){var c=t,n=c.map((function(e){return e.id})),r=e.filter((function(e){return n.indexOf(e.id)<0}));return{teamAIds:n,attackA:c.reduce((function(e,t){return e+t.attack}),0),defenseA:c.reduce((function(e,t){return e+t.defense}),0),staminaA:c.reduce((function(e,t){return e+t.stamina}),0),teamBIds:r.map((function(e){return e.id})),attackB:r.reduce((function(e,t){return e+t.attack}),0),defenseB:r.reduce((function(e,t){return e+t.defense}),0),staminaB:r.reduce((function(e,t){return e+t.stamina}),0)}}(e,t.slice(0,r)));for(var s=a;s<=c&&c-s+1>=r-n;s++)t[n]=e[s],V(e,t,s+1,c,n+1,r,i)}function W(e,t,a,c){V(e,new Array(a),0,t-1,0,a,c)}var Y=a(57),Q=a(128),K=a(29),X=a.n(K),$=function(e){var t=Object(c.useContext)(w),a=t.itemIsSelectedPlayer(e.id),n=Number.isNaN(e.attack)?0:e.attack,r=Number.isNaN(e.defense)?0:e.defense,i=Number.isNaN(e.stamina)?0:e.stamina;return Object(b.jsx)("li",{className:a?"teama"===e.activeClass?X.a.teama:"teamb"===e.activeClass?X.a.teamb:X.a.info:X.a.light,onClick:function(){a?t.removeSelectedPlayer(e.id):t.addSelectedPlayer({id:e.id,name:e.name,imgSrc:e.imgSrc,attack:n,defense:r,stamina:i})},children:Object(b.jsx)(Z.a,{shadow:"sm",bg:a?e.activeClass:"light",text:a?e.activeClass:"light",style:{width:"100%",marginBottom:"10px",cursor:"pointer"},className:"mb-1",padding:"sm",children:Object(b.jsxs)(P.a,{noWrap:!0,style:{height:"25px",gap:"0px",marginLeft:"-10px"},children:[Object(b.jsx)(C.a,{src:e.imgSrc,radius:"xl",size:"lg"}),Object(b.jsxs)("div",{style:{flex:1,width:"100%"},children:[Object(b.jsx)(k.a,{size:"sm",weight:500,style:{float:"left"},children:e.name}),Object(b.jsx)("div",{className:X.a.divcircle,children:Object(b.jsx)(q.a,{value:i,text:"".concat(i),styles:Object(q.b)({pathColor:"rgba(34, 139, 230, ".concat(i/100,")"),textColor:"#228be6",textSize:"40px"})})}),Object(b.jsx)("div",{className:X.a.divcircle,children:Object(b.jsx)(q.a,{value:r,text:"".concat(r),styles:Object(q.b)({pathColor:"rgba(64, 192, 87, ".concat(r/100,")"),textColor:"#40c057",textSize:"40px"})})}),Object(b.jsx)("div",{className:X.a.divcircle,children:Object(b.jsx)(q.a,{value:n,text:"".concat(n),styles:Object(q.b)({pathColor:"rgba(250, 82, 82, ".concat(n/100,")"),textColor:"#fa5252",textSize:"40px"})})})]}),!0!==e.hideCheckbox&&Object(b.jsx)(Q.a,{checked:a,onChange:function(){},tabIndex:-1,style:{marginLeft:"16px"}})]})})})},ee=a(24),te=a.n(ee),ae=function(e){var t=Object(O.c)(),a=Object(G.useState)(1),n=Object(s.a)(a,2),r=n[0],i=n[1],o=Object(G.useState)([]),l=Object(s.a)(o,2),d=l[0],u=l[1],j=e.players;Object(c.useEffect)((function(){var t=e.selectedPlayers.length,a=Math.floor(t/2),c=[];W(e.selectedPlayers,t,a,c);var n=c.map((function(e){return Object(A.a)(Object(A.a)({},e),{},{difference:Math.abs(e.attackA+e.defenseA+e.staminaA-e.attackB-e.defenseB-e.staminaB)})}));n=n.sort((function(e,t){return parseFloat(e.difference)-parseFloat(t.difference)})).slice(0,5),u(n),i(1),console.log("reset combinations...")}),[e.selectedPlayers]);var m=d[r-1];void 0!==m&&(m.teamAtotalScore=m.attackA+m.defenseA+m.staminaA,m.teamBtotalScore=m.attackB+m.defenseB+m.staminaB);var f=[],p=[];void 0!==m&&(f=e.selectedPlayers.filter((function(e){return m.teamAIds.indexOf(e.id)>=0})),p=e.selectedPlayers.filter((function(e){return m.teamBIds.indexOf(e.id)>=0}))),d.length>=r&&(f.attack=Math.floor(d[r-1].attackA/d[r-1].teamAIds.length),f.defense=Math.floor(d[r-1].defenseA/d[r-1].teamAIds.length),f.stamina=Math.floor(d[r-1].staminaA/d[r-1].teamAIds.length),p.attack=Math.floor(d[r-1].attackB/d[r-1].teamBIds.length),p.defense=Math.floor(d[r-1].defenseB/d[r-1].teamBIds.length),p.stamina=Math.floor(d[r-1].staminaB/d[r-1].teamBIds.length));return Object(b.jsxs)(G.Fragment,{children:[Object(b.jsx)("ul",{className:te.a.list,children:j.map((function(e){return Object(b.jsx)($,{id:e.id,name:e.name,attack:e.attack,defense:e.defense,stamina:e.stamina,imgSrc:e.imgSrc,activeClass:"info"},e.id)}))}),f.length>1&&Object(b.jsxs)(L.a,{children:[Object(b.jsxs)(L.a.Col,{md:12,children:[Object(b.jsx)(D.a,{my:"xs",label:"Generated teams",labelPosition:"center",variant:"dashed"}),Object(b.jsxs)(E.a,{sx:function(e){return{textAlign:"center",padding:"10px 0 0 0",fontWeight:"bold"}},children:[Object(b.jsx)(R.a,{onClick:function(){i(r-1)},disabled:1===r,style:{float:"left",marginLeft:"10px"},children:Object(b.jsx)(Y.a,{size:"40",color:1===r?"#ced4da":"#228be6"})}),"#",r," Best matchup ",(m.teamAtotalScore<m.teamBtotalScore?m.teamAtotalScore/m.teamBtotalScore*100:m.teamBtotalScore/m.teamAtotalScore*100).toLocaleString("en",{minimumFractionDigits:2,maximumFractionDigits:2}),"%",Object(b.jsx)(R.a,{onClick:function(){i(r+1)},disabled:r>=5,style:{float:"right",marginRight:"10px"},children:Object(b.jsx)(Y.b,{size:"40",color:r>=5?"#ced4da":"#228be6"})})]})]}),Object(b.jsx)(L.a.Col,{md:6,children:Object(b.jsx)(Z.a,{shadow:"sm",padding:"lg",style:{paddingTop:0},children:Object(b.jsxs)(P.a,{position:"apart",style:{marginBottom:5,marginTop:t.spacing.sm},children:[Object(b.jsx)("div",{style:{width:"100%"},children:Object(b.jsxs)(J.a,{variant:"filled",style:{backgroundColor:"#bfefe1",padding:"18px 6px 18px 7px",float:"right"},children:[Object(b.jsxs)(k.a,{size:"md",weight:700,style:{float:"left"},color:"black",styles:{textTransform:"none !important"},children:["Team A ",Object(b.jsxs)("small",{children:["(",m.teamAtotalScore,")"]})]}),Object(b.jsx)("div",{className:te.a.divcircle,children:Object(b.jsx)(q.a,{value:f.stamina,text:"".concat(f.stamina),styles:Object(q.b)({pathColor:"rgba(34, 139, 230, ".concat(f.stamina/100,")"),textColor:"#228be6",textSize:"40px"})})}),Object(b.jsx)("div",{className:te.a.divcircle,children:Object(b.jsx)(q.a,{value:f.defense,text:"".concat(f.defense),styles:Object(q.b)({pathColor:"rgba(64, 192, 87, ".concat(f.defense/100,")"),textColor:"#40c057",textSize:"40px"})})}),Object(b.jsx)("div",{className:te.a.divcircle,children:Object(b.jsx)(q.a,{value:f.attack,text:"".concat(f.attack),styles:Object(q.b)({pathColor:"rgba(250, 82, 82, ".concat(f.attack/100,")"),textColor:"#fa5252",textSize:"40px"})})})]})}),Object(b.jsx)("ul",{className:te.a.list,children:f.map((function(e){return Object(b.jsx)($,{id:e.id,name:e.name,attack:e.attack,defense:e.defense,stamina:e.stamina,imgSrc:e.imgSrc,hideCheckbox:!0,activeClass:"teama"},e.id)}))})]})})}),Object(b.jsx)(L.a.Col,{md:6,children:Object(b.jsx)(Z.a,{shadow:"sm",padding:"lg",style:{paddingTop:0},children:Object(b.jsxs)(P.a,{position:"apart",style:{marginBottom:5,marginTop:t.spacing.sm},children:[Object(b.jsxs)(J.a,{color:"yellow",variant:"filled",size:"lg",style:{backgroundColor:"#f7e5b0",padding:"18px 6px 18px 7px"},children:[Object(b.jsxs)(k.a,{size:"md",weight:700,style:{float:"left"},color:"black",children:["Team B ",Object(b.jsxs)("small",{children:["(",m.teamBtotalScore,")"]})]}),Object(b.jsx)("div",{className:te.a.divcircle,children:Object(b.jsx)(q.a,{value:p.stamina,text:"".concat(p.stamina),styles:Object(q.b)({pathColor:"rgba(34, 139, 230, ".concat(p.stamina/100,")"),textColor:"#228be6",textSize:"40px"})})}),Object(b.jsx)("div",{className:te.a.divcircle,children:Object(b.jsx)(q.a,{value:p.defense,text:"".concat(p.defense),styles:Object(q.b)({pathColor:"rgba(64, 192, 87, ".concat(p.defense/100,")"),textColor:"#40c057",textSize:"40px"})})}),Object(b.jsx)("div",{className:te.a.divcircle,children:Object(b.jsx)(q.a,{value:p.attack,text:"".concat(p.attack),styles:Object(q.b)({pathColor:"rgba(250, 82, 82, ".concat(p.attack/100,")"),textColor:"#fa5252",textSize:"40px"})})})]}),Object(b.jsx)("ul",{className:te.a.list,children:p.map((function(e){return Object(b.jsx)($,{id:e.id,name:e.name,attack:e.attack,defense:e.defense,stamina:e.stamina,imgSrc:e.imgSrc,hideCheckbox:!0,activeClass:"teamb"},e.id)}))})]})})})]})]})};var ce=function(){var e=Object(c.useContext)(w),t=Object(i.useParams)(),a=Object(c.useState)(!0),n=Object(s.a)(a,2),r=n[0],o=n[1],l=Object(c.useState)(null),d=Object(s.a)(l,2),u=d[0],j=d[1],m=Object(c.useCallback)(Object(F.a)(M.a.mark((function a(){var c,n,r,i,s,l,d,u,m;return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("fetching data for ".concat(t.team," ...")),o(!0),j(null),a.prev=3,e.loadGroupName(t.team),a.next=7,fetch(H(t.team));case 7:if((c=a.sent).ok){a.next=10;break}throw new Error("Something went wrong!");case 10:return a.next=12,c.json();case 12:for(i in n=a.sent,r=[],n)s=Object(A.a)({id:i},n[i]),r.push(s);for(l=function(){for(var e=u[d],t=function(){var t=c[a],n=r.reduce((function(a,c){return a+U(c.playerScores,e.id,t)}),0),i=r.reduce((function(a,c){return a+(U(c.playerScores,e.id,t)>0?1:0)}),0);e[t]=Math.floor(n/i)},a=0,c=["attack","defense","stamina"];a<c.length;a++)t()},d=0,u=r;d<u.length;d++)l();e.loadPlayers(r.sort((function(e,t){return t.attack+t.defense+t.stamina-e.attack-e.defense-e.stamina}))),null!==localStorage.getItem("PlayerId")&&void 0!==(m=r.find((function(e){return e.id===localStorage.getItem("PlayerId")})))&&(e.loadProfilePlayerScores(m.playerScores),e.updateProfileName(m.name),e.updateProfileImgSrc(m.imgSrc)),a.next=24;break;case 21:a.prev=21,a.t0=a.catch(3),j(a.t0.message);case 24:o(!1);case 25:case"end":return a.stop()}}),a,null,[[3,21]])}))),[t.team]);return Object(c.useEffect)((function(){0===e.players.length?m():o(!1)}),[m,e.players.length]),r?Object(b.jsx)("section",{children:"Loading..."}):u?Object(b.jsx)("p",{children:u}):Object(b.jsx)("section",{children:Object(b.jsx)(ae,{players:e.players,selectedPlayers:e.selectedPlayers})})},ne=a(11),re=a(109),ie=a(130),se=a(108),oe=a(69),le=a.n(oe),de=function(e){return Object(b.jsx)("div",{className:le.a.card,children:e.children})},ue=a(58),je=a.n(ue),me=a(70),fe=function(e){var t=Object(c.useState)(!1),a=Object(s.a)(t,2),n=a[0],r=a[1],i=Object(c.useRef)();return Object(b.jsxs)(c.Fragment,{children:[!n&&Object(b.jsx)(ie.a,{leftIcon:Object(b.jsx)(me.a,{}),onClick:function(e){r(!0)},style:{margin:"20px"},children:"Add New Player"}),n&&Object(b.jsx)(de,{children:Object(b.jsxs)("form",{className:je.a.form,onSubmit:function(t){t.preventDefault();var a=i.current.value;e.onAddPlayer(a),r(!1)},children:[Object(b.jsx)(se.a,{required:!0,label:"Name",placeholder:"Player name",ref:i}),Object(b.jsxs)("div",{className:je.a.actions,children:[Object(b.jsx)(ie.a,{type:"button",color:"gray",onClick:function(e){r(!1),i.current.value=""},children:"Cancel"}),Object(b.jsx)(ie.a,{type:"submit",color:"indigo",ml:10,children:"Save"})]})]})})]})},be=a(67),pe=a(115),xe=a(114),he=(a(96),a(39)),Oe=a.n(he),ge=function(e){var t=e.label,a=e.image,c=e.attack,n=e.defense,r=e.stamina;return Object(b.jsxs)(P.a,{noWrap:!0,children:[Object(b.jsx)(C.a,{src:a,radius:"xl",size:"lg"}),Object(b.jsxs)("div",{style:{width:"100%"},children:[Object(b.jsx)(k.a,{style:{float:"left"},children:t}),Object(b.jsx)("div",{className:Oe.a.divcircle,children:Object(b.jsx)(q.a,{value:r,text:"".concat(r),styles:Object(q.b)({pathColor:"rgba(34, 139, 230, ".concat(r/100,")"),textColor:"#228be6",textSize:"40px"})})}),Object(b.jsx)("div",{className:Oe.a.divcircle,children:Object(b.jsx)(q.a,{value:n,text:"".concat(n),styles:Object(q.b)({pathColor:"rgba(64, 192, 87, ".concat(n/100,")"),textColor:"#40c057",textSize:"40px"})})}),Object(b.jsx)("div",{className:Oe.a.divcircle,children:Object(b.jsx)(q.a,{value:c,text:"".concat(c),styles:Object(q.b)({pathColor:"rgba(250, 82, 82, ".concat(c/100,")"),textColor:"#fa5252",textSize:"40px"})})})]})]})},ye=function(){var e=Object(c.useContext)(w),t=Object(re.a)(),a=Object(i.useParams)(),n=e.profileId,r=e.players,o=e.profilePlayerScores,l=e.initialItemIndex,d=Object(G.useState)(!1),u=Object(s.a)(d,2),j=u[0],m=u[1];void 0!==e.profilePlayerScores&&0!==e.profilePlayerScores.length||null==e.players.find((function(e){return e.id===n})).playerScores||e.loadProfilePlayerScores(e.players.find((function(e){return e.id===n})).playerScores);var f=function(){fetch(H(a.team).replace(".json","")+"/"+n+"/playerScores.json",{method:"PUT",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}}).then((function(){t.showNotification({title:"Scores update",message:"Data was saved",color:"teal",icon:Object(b.jsx)(be.a,{}),autoClose:2e3}),m(!1)}))},p=function(t,a,c){m(!0),e.updateProfilePlayerScore(t,a,c)};return Object(b.jsxs)(c.Fragment,{children:[Object(b.jsx)(pe.a,{initialItem:l,iconPosition:"right",onChange:function(t){for(var a=0;a<r.length;a++)if(!0===t[a]){e.updateInitialItemIndex(a);break}j&&f()},children:r.filter((function(e){return e.id!==n})).map((function(e){return Object(b.jsxs)(pe.a.Item,{label:Object(b.jsx)(ge,{image:e.imgSrc,attack:U(o,e.id,"attack"),defense:U(o,e.id,"defense"),stamina:U(o,e.id,"stamina"),label:e.name}),onToggle:!0,children:[Object(b.jsx)(k.a,{children:"Atac"}),Object(b.jsx)(xe.a,{color:"red",min:11,defaultValue:U(o,e.id,"attack"),onChange:function(t){return p(e.id,"attack",t)}}),Object(b.jsx)(k.a,{children:"Defense"}),Object(b.jsx)(xe.a,{color:"green",min:11,defaultValue:U(o,e.id,"defense"),onChange:function(t){return p(e.id,"defense",t)}}),Object(b.jsx)(k.a,{children:"Stamina"}),Object(b.jsx)(xe.a,{min:11,defaultValue:U(o,e.id,"stamina"),onChange:function(t){return p(e.id,"stamina",t)}})]},e.id)}))}),j&&Object(b.jsx)("div",{className:Oe.a.actions,children:Object(b.jsx)(ie.a,{type:"button",color:"indigo",ml:10,onClick:function(){f()},children:"Save"})})]})};var ve=function(){var e=Object(c.useContext)(w),t=Object(i.useParams)(),a=Object(re.a)(),n=e.profileId,r=Object(i.useHistory)();return null!==e.players&&0!==e.players.length||r.replace("/".concat(t.team,"/")),0!==n&&null!==n||(a.showNotification({title:"Choose profile",message:"You must choose your profile to score other players...",color:"teal",autoClose:4e3}),r.replace("/".concat(t.team,"/profile"))),Object(b.jsxs)(G.Fragment,{children:[Object(b.jsx)("h2",{children:"Manage players"}),void 0!==e.players&&e.players.length<15&&Object(b.jsx)("p",{children:Object(b.jsx)("i",{children:"Make sure all playes are added to list"})}),Object(b.jsx)(fe,{onAddPlayer:function(a){var c={id:Math.max.apply(Math,e.players.map((function(e){return e.y}))),name:a},n=Object(ne.a)(e.players);n.push(c),e.loadPlayers(n),fetch(H(t.team),{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((function(){console.log("submitted...")}))}}),null!==n&&Object(b.jsx)(ye,{})]})},Se=a(12),Pe=a(112),Ce=a(45),ke=a(59),Ie=a.n(ke),_e=a(71),Ne=a.n(_e),we=function(e){return Object(b.jsx)(R.a,{onClick:function(){return e.onAvatarClicked(e.imgSrc)},className:Ne.a.actionicon,children:Object(b.jsx)(C.a,{src:e.imgSrc,radius:"xl",size:"lg",style:{backgroundColor:e.isSelected?"#5481a9":"transparent"}})})},Be=["https://img.icons8.com/clouds/256/000000/futurama-bender.png","https://img.icons8.com/clouds/2x/homer-simpson.png","https://img.icons8.com/clouds/256/000000/futurama-mom.png","https://img.icons8.com/clouds/2x/spongebob-squarepants.png","https://img.icons8.com/clouds/2x/mando.png","https://img.icons8.com/clouds/2x/stormtrooper.png","https://img.icons8.com/clouds/2x/kokichi.png","https://img.icons8.com/clouds/2x/Bakugou.png","https://img.icons8.com/bubbles/2x/walter-white.png","https://img.icons8.com/clouds/2x/super-mario.png","https://img.icons8.com/clouds/2x/anonymous-mask.png","https://img.icons8.com/clouds/2x/jake.png","https://img.icons8.com/clouds/2x/nurse-female.png","https://img.icons8.com/clouds/2x/camo-cream.png","https://img.icons8.com/clouds/2x/user-female.png","https://img.icons8.com/clouds/2x/user-male.png","https://img.icons8.com/clouds/2x/winner.png","https://img.icons8.com/clouds/2x/gender-neutral-user.png","https://img.icons8.com/clouds/2x/santa.png","https://img.icons8.com/clouds/2x/champagne-bottle.png","https://img.icons8.com/clouds/2x/edvard-munch.png","https://img.icons8.com/clouds/2x/frida-kahlo.png","https://img.icons8.com/clouds/2x/fraud.png","https://img.icons8.com/clouds/2x/comedy.png"],ze=function(e){var t=Object(c.useContext)(w);Object(c.useEffect)((function(){var a=t.players.find((function(t){return t.id===e.id}));i(void 0===a?"":a.name),u(void 0===a?"":a.imgSrc)}),[e.id]);var a=Object(c.useState)(""),n=Object(s.a)(a,2),r=n[0],i=n[1],o=Object(c.useState)(""),l=Object(s.a)(o,2),d=l[0],u=l[1],j=function(e){u(e)};return Object(b.jsxs)(c.Fragment,{children:[Object(b.jsx)("hr",{style:{marginBottom:"20px"}}),Object(b.jsx)(de,{children:Object(b.jsxs)("form",{className:Ie.a.form,onSubmit:function(t){t.preventDefault(),e.onUpdatePlayer(r,d)},children:[Object(b.jsx)(se.a,{required:!0,label:"Name",placeholder:"Player name",value:r,onChange:function(e){return i(e.target.value)}}),Be.map((function(e){return Object(b.jsx)(we,{imgSrc:e,isSelected:e===d,onAvatarClicked:j},e)})),Object(b.jsx)("div",{className:Ie.a.actions,children:Object(b.jsx)(ie.a,{type:"submit",color:"indigo",ml:10,children:"Save"})})]})})]})},Ae=["id","image","label"],Fe=function(){var e=Object(c.useContext)(w),t=Object(re.a)(),a=Object(i.useParams)(),n=e.profileId,r=Object(Ce.useHistory)();null!==e.players&&0!==e.players.length||r.replace("/".concat(a.team,"/"));var s=e.players.map((function(e){return{id:e.id,image:e.imgSrc,label:e.name,value:e.id}})),o=Object(c.forwardRef)((function(e,t){e.id;var a=e.image,c=e.label,n=Object(Se.a)(e,Ae);return Object(b.jsx)("div",Object(A.a)(Object(A.a)({ref:t},n),{},{children:Object(b.jsxs)(P.a,{noWrap:!0,children:[Object(b.jsx)(C.a,{src:a}),Object(b.jsx)("div",{children:Object(b.jsx)(k.a,{children:c})})]})}))}));return Object(b.jsxs)(c.Fragment,{children:[Object(b.jsx)(Pe.a,{label:"Choose profile",placeholder:"Identify yourself",itemComponent:o,data:s,value:n,maxDropdownHeight:400,nothingFound:"Nobody here",onChange:function(t){if(null!==t){e.updateProfileId(t),localStorage.setItem("PlayerId",t);var a=e.players.find((function(e){return e.id===t}));e.updateProfileName(a.name),e.updateProfileImgSrc(a.imgSrc);var c=Object(A.a)(Object(A.a)({},a),{},{playerScores:e.playerScores}),n=[].concat(Object(ne.a)(e.players.filter((function(e){return e.id!==t}))),[c]);e.loadPlayers(n),e.loadProfilePlayerScores(e.players.find((function(e){return e.id===t})).playerScores)}}}),null!==n&&Object(b.jsx)(ze,{id:n,onUpdatePlayer:function(c,r){var i=e.players.find((function(e){return e.id===n})),s=Object(A.a)(Object(A.a)({},i),{},{name:c,imgSrc:r});e.updateProfileName(s.name),e.updateProfileImgSrc(s.imgSrc),fetch(H(a.team).replace(".json","")+"/"+s.id+".json",{method:"PUT",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(){var a=[].concat(Object(ne.a)(e.players.filter((function(e){return e.id!==n}))),[s]);e.loadPlayers(a),t.showNotification({title:"Profile update",message:"Data was saved",color:"teal",icon:Object(b.jsx)(be.a,{}),autoClose:2e3})}))}})]})},Te=function(){return Object(b.jsx)(Fe,{})};var Me=function(){return Object(b.jsx)(c.Fragment,{children:Object(b.jsxs)(i.Switch,{children:[Object(b.jsx)(i.Route,{path:"/",exact:!0,children:Object(b.jsx)(z,{})}),Object(b.jsx)(i.Route,{path:"/:team/",exact:!0,children:Object(b.jsx)(B,{children:Object(b.jsx)(ce,{})})}),Object(b.jsx)(i.Route,{path:"/:team/manage",children:Object(b.jsx)(B,{children:Object(b.jsx)(ve,{})})}),Object(b.jsx)(i.Route,{path:"/:team/profile",children:Object(b.jsx)(B,{children:Object(b.jsx)(Te,{})})})]})})},Le=a(113);r.a.render(Object(b.jsx)(N,{children:Object(b.jsx)(Ce.BrowserRouter,{children:Object(b.jsx)(O.a,{theme:{colorScheme:"light"},children:Object(b.jsx)(Le.a,{children:Object(b.jsx)(Me,{})})})})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.2d6c7b63.chunk.js.map