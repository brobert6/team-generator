(this["webpackJsonpreact-course"]=this["webpackJsonpreact-course"]||[]).push([[0],{24:function(e,t,a){e.exports={list:"PlayerList_list__2ZZ1i",row:"PlayerList_row__1HPZC",col6:"PlayerList_col6__3Vc1Q",divcircle:"PlayerList_divcircle__1b2ZH"}},28:function(e,t,a){e.exports={info:"PlayerItem_info__IOYoZ",teama:"PlayerItem_teama__j6dyZ",teamb:"PlayerItem_teamb__2fGz3",light:"PlayerItem_light__mB-wX",divcircle:"PlayerItem_divcircle__o2n7Y"}},38:function(e,t,a){e.exports={divcircle:"PlayerList_divcircle__1VZaT",actions:"PlayerList_actions__qh5j_"}},57:function(e,t,a){e.exports={form:"NewPlayerForm_form__7c21Z",control:"NewPlayerForm_control__1eeMn",actions:"NewPlayerForm_actions__2_KN1"}},58:function(e,t,a){e.exports={form:"EditPlayerForm_form__13RZ4",control:"EditPlayerForm_control__3JmoC",actions:"EditPlayerForm_actions__1vyl8"}},64:function(e,t,a){e.exports={main:"Layout_main__3QUDM"}},68:function(e,t,a){e.exports={card:"Card_card__39fCf"}},70:function(e,t,a){e.exports={actionicon:"ProfileIcon_actionicon__1Erhd"}},83:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(22),r=a.n(n),i=(a(83),a(13)),s=a(4),o=a(116),l=a(122),d=a(123),u=a(61),j=a(62),m=a(63),b=a(17),f=a(3),x=function(e){var t=Object(i.useParams)();return Object(f.jsxs)(o.a,{spacing:"xs",size:"sm",center:!0,icon:Object(f.jsx)(l.a,{color:"teal",size:24,radius:"xl",children:Object(f.jsx)(u.a,{size:12})}),children:[Object(f.jsx)(o.a.Item,{children:Object(f.jsx)(d.a,{component:b.a,to:"/".concat(t.team),onClick:e.pageChanged,children:"Generate teams"})}),Object(f.jsx)(o.a.Item,{icon:Object(f.jsx)(l.a,{color:"blue",size:24,radius:"xl",children:Object(f.jsx)(j.a,{size:12})}),children:Object(f.jsx)(d.a,{component:b.a,to:"/".concat(t.team,"-manage"),onClick:e.pageChanged,children:"Score teammates"})}),Object(f.jsx)(o.a.Item,{icon:Object(f.jsx)(l.a,{color:"blue",size:24,radius:"xl",children:Object(f.jsx)(m.a,{size:12})}),children:Object(f.jsx)(d.a,{component:b.a,to:"/".concat(t.team,"-profile"),onClick:e.pageChanged,children:"My Profile"})})]})},p=a(64),h=a.n(p),O=a(29),g=a(115),y=a(124),v=a(125),S=a(126),P=a(119),C=a(120),k=a(21),I=a(121),_=Object(c.createContext)({groupName:"",players:[],selectedPlayers:[],profilePlayerScores:[],totalSelectedPlayers:0,profileId:0,profileName:"",profileImgSrc:"",loadPlayers:function(e){},updatePlayers:function(e){},loadProfilePlayerScores:function(e){},updateProfilePlayerScore:function(e){},addSelectedPlayer:function(e){},removeSelectedPlayer:function(e){},itemIsSelectedPlayer:function(e){},updateProfileId:function(e){},updateProfileName:function(e){},updateProfileImgSrc:function(e){},updateInitialItemIndex:function(e){}});function N(e){var t=Object(c.useState)(null),a=Object(s.a)(t,2),n=a[0],r=a[1],i=Object(c.useState)([]),o=Object(s.a)(i,2),l=o[0],d=o[1],u=Object(c.useState)([]),j=Object(s.a)(u,2),m=j[0],b=j[1],x=Object(c.useState)([]),p=Object(s.a)(x,2),h=p[0],O=p[1],g=Object(c.useState)(null),y=Object(s.a)(g,2),v=y[0],S=y[1],P=Object(c.useState)(null),C=Object(s.a)(P,2),k=C[0],I=C[1],N=Object(c.useState)(null),w=Object(s.a)(N,2),B=w[0],z=w[1],A=Object(c.useState)(0),F=Object(s.a)(A,2),T=F[0],M=F[1];var L={groupName:n,players:l,profileId:v,profileName:k,profileImgSrc:B,initialItemIndex:T,selectedPlayers:m,profilePlayerScores:h,totalSelectedPlayers:m.length,loadGroupName:function(e){r((function(t){return e}))},loadPlayers:function(e){null===v&&null!==localStorage.getItem("PlayerId")&&S((function(e){return localStorage.getItem("PlayerId")})),d((function(t){return e}))},updatePlayer:function(e){d((function(e){return e}))},addSelectedPlayer:function(e){b((function(t){return t.concat(e)}))},removeSelectedPlayer:function(e){b((function(t){return t.filter((function(t){return t.id!==e}))}))},itemIsSelectedPlayer:function(e){return m.some((function(t){return t.id===e}))},loadProfilePlayerScores:function(e){O((function(t){return e}))},updateProfilePlayerScore:function(e,t,a){O((function(c){null==c&&(c=[]);var n=c.find((function(t){return t.playerId===e}));switch(c=c.filter((function(t){return t.playerId!==e})),void 0===n&&(n={attack:0,defense:0,stamina:0,playerId:e}),t){case"attack":n.attack=a;break;case"defense":n.defense=a;break;case"stamina":n.stamina=a}return c.push(n),c}))},updateProfileId:function(e){return S((function(t){return e}))},updateProfileName:function(e){return I((function(t){return e}))},updateProfileImgSrc:function(e){return z((function(t){return e}))},updateInitialItemIndex:function(e){return M((function(t){return e}))}};return Object(f.jsx)(_.Provider,{value:L,children:e.children})}var w=_,B=function(e){var t=Object(c.useContext)(w).profileName,a=Object(c.useContext)(w).profileImgSrc,n=Object(c.useContext)(w).groupName,r=Object(c.useState)(!1),i=Object(s.a)(r,2),o=i[0],l=i[1],u=Object(O.c)();return Object(f.jsx)(g.a,{padding:"md",header:Object(f.jsx)(y.a,{height:70,padding:"md",style:{backgroundColor:"#e7e7e7"},children:Object(f.jsxs)("div",{style:{display:"flex",alignItems:"center",height:"100%"},children:[Object(f.jsx)(v.a,{largerThan:"sm",styles:{display:"none"},children:Object(f.jsx)(S.a,{opened:o,onClick:function(){return l((function(e){return!e}))},size:"sm",color:u.colors.gray[6],mr:"xl"})}),null!=t&&Object(f.jsx)(d.a,{component:b.a,to:"/".concat(n,"-profile"),children:Object(f.jsxs)(P.a,{noWrap:!0,style:{height:"25px",float:"right"},children:[Object(f.jsx)(C.a,{src:a,radius:"xl",size:"lg"}),Object(f.jsx)("div",{style:{flex:1},children:Object(f.jsx)(k.a,{size:"sm",weight:500,children:t})})]})})]})}),navbar:Object(f.jsx)(I.a,{padding:"md",hiddenBreakpoint:"sm",hidden:!o,width:{sm:300,lg:400},children:Object(f.jsx)(x,{pageChanged:function(){l(!1)}})}),styles:function(e){return{main:{backgroundColor:"dark"===e.colorScheme?e.colors.dark[8]:e.colors.gray[0]}}},children:Object(f.jsx)("main",{className:h.a.main,children:e.children})})},z=function(){return Object(f.jsx)("div",{style:{paddingTop:"100px"},children:Object(f.jsxs)("center",{children:["Contact site administrator (",Object(f.jsx)("a",{href:"mailto:brobert6@gmail.com?subject=Teams generator",children:"brobert6@gmail.com"}),") to set up your teams",Object(f.jsx)(d.a,{component:b.a,to:"/test",children:"."}),Object(f.jsx)(d.a,{component:b.a,to:"/scoala18",children:"."})]})})},A=a(9),F=a(65),T=a(54),M=a.n(T),L=a(118),R=a(59),D=a(6),E=a(74),Z=a(117),J=a(128),q=a(10),G=function(e){return"https://udemy-ng-http-5d0d5.firebaseio.com/players.json".replace(".json","/"+e+".json")},H=function(e,t,a){if(null!=e){var c=e.find((function(e){return e.playerId===t}));if(void 0!==c)switch(a){case"attack":return c.attack<=10?10*c.attack:c.attack;case"defense":return c.defense<=10?10*c.defense:c.defense;case"stamina":if(void 0!==c.stamina)return c.stamina;if(void 0!==c.construction)return Math.ceil(10*(parseInt(c.construction)+parseInt(c.resistence)+parseInt(c.technique))/3)}}return 0};function U(e,t,a,c,n,r,i){n===r&&i.push(function(e,t,a){var c=t,n=c.map((function(e){return e.id})),r=e.filter((function(e){return n.indexOf(e.id)<0}));return{teamAIds:n,attackA:c.reduce((function(e,t){return e+t.attack}),0),defenseA:c.reduce((function(e,t){return e+t.defense}),0),staminaA:c.reduce((function(e,t){return e+t.stamina}),0),teamBIds:r.map((function(e){return e.id})),attackB:r.reduce((function(e,t){return e+t.attack}),0),defenseB:r.reduce((function(e,t){return e+t.defense}),0),staminaB:r.reduce((function(e,t){return e+t.stamina}),0)}}(e,t.slice(0,r)));for(var s=a;s<=c&&c-s+1>=r-n;s++)t[n]=e[s],U(e,t,s+1,c,n+1,r,i)}function V(e,t,a,c){U(e,new Array(a),0,t-1,0,a,c)}var W=a(56),Y=a(127),Q=a(28),K=a.n(Q),X=function(e){var t=Object(c.useContext)(w),a=t.itemIsSelectedPlayer(e.id),n=Number.isNaN(e.attack)?0:e.attack,r=Number.isNaN(e.defense)?0:e.defense,i=Number.isNaN(e.stamina)?0:e.stamina;return Object(f.jsx)("li",{className:a?"teama"===e.activeClass?K.a.teama:"teamb"===e.activeClass?K.a.teamb:K.a.info:K.a.light,onClick:function(){a?t.removeSelectedPlayer(e.id):t.addSelectedPlayer({id:e.id,name:e.name,imgSrc:e.imgSrc,attack:n,defense:r,stamina:i})},children:Object(f.jsx)(Z.a,{shadow:"sm",bg:a?e.activeClass:"light",text:a?e.activeClass:"light",style:{width:"100%",marginBottom:"10px",cursor:"pointer"},className:"mb-1",padding:"sm",children:Object(f.jsxs)(P.a,{noWrap:!0,style:{height:"25px",gap:"0px",marginLeft:"-10px"},children:[Object(f.jsx)(C.a,{src:e.imgSrc,radius:"xl",size:"lg"}),Object(f.jsxs)("div",{style:{flex:1,width:"100%"},children:[Object(f.jsx)(k.a,{size:"sm",weight:500,style:{float:"left"},children:e.name}),Object(f.jsx)("div",{className:K.a.divcircle,children:Object(f.jsx)(q.a,{value:i,text:"".concat(i),styles:Object(q.b)({pathColor:"rgba(34, 139, 230, ".concat(i/100,")"),textColor:"#228be6",textSize:"40px"})})}),Object(f.jsx)("div",{className:K.a.divcircle,children:Object(f.jsx)(q.a,{value:r,text:"".concat(r),styles:Object(q.b)({pathColor:"rgba(64, 192, 87, ".concat(r/100,")"),textColor:"#40c057",textSize:"40px"})})}),Object(f.jsx)("div",{className:K.a.divcircle,children:Object(f.jsx)(q.a,{value:n,text:"".concat(n),styles:Object(q.b)({pathColor:"rgba(250, 82, 82, ".concat(n/100,")"),textColor:"#fa5252",textSize:"40px"})})})]}),!0!==e.hideCheckbox&&Object(f.jsx)(Y.a,{checked:a,onChange:function(){},tabIndex:-1,style:{marginLeft:"16px"}})]})})})},$=a(24),ee=a.n($),te=function(e){var t=Object(O.c)(),a=Object(c.useState)(1),n=Object(s.a)(a,2),r=n[0],i=n[1],o=Object(c.useState)([]),l=Object(s.a)(o,2),d=l[0],u=l[1],j=e.players;Object(c.useEffect)((function(){var t=e.selectedPlayers.length,a=Math.floor(t/2),c=[];V(e.selectedPlayers,t,a,c);var n=c.map((function(e){return Object(A.a)(Object(A.a)({},e),{},{difference:Math.abs(e.attackA+e.defenseA+e.staminaA-e.attackB-e.defenseB-e.staminaB)})}));n=n.sort((function(e,t){return parseFloat(e.difference)-parseFloat(t.difference)})).slice(0,5),u(n),i(1)}),[e.selectedPlayers]);var m=d[r-1];void 0!==m&&(m.teamAtotalScore=m.attackA+m.defenseA+m.staminaA,m.teamBtotalScore=m.attackB+m.defenseB+m.staminaB);var b=[],x=[];void 0!==m&&(b=e.selectedPlayers.filter((function(e){return m.teamAIds.indexOf(e.id)>=0})),x=e.selectedPlayers.filter((function(e){return m.teamBIds.indexOf(e.id)>=0}))),d.length>=r&&(b.attack=Math.floor(d[r-1].attackA/d[r-1].teamAIds.length),b.defense=Math.floor(d[r-1].defenseA/d[r-1].teamAIds.length),b.stamina=Math.floor(d[r-1].staminaA/d[r-1].teamAIds.length),x.attack=Math.floor(d[r-1].attackB/d[r-1].teamBIds.length),x.defense=Math.floor(d[r-1].defenseB/d[r-1].teamBIds.length),x.stamina=Math.floor(d[r-1].staminaB/d[r-1].teamBIds.length));return Object(f.jsxs)(c.Fragment,{children:[Object(f.jsx)("ul",{className:ee.a.list,children:j.map((function(e){return Object(f.jsx)(X,{id:e.id,name:e.name,attack:e.attack,defense:e.defense,stamina:e.stamina,imgSrc:e.imgSrc,activeClass:"info"},e.id)}))}),b.length>1&&Object(f.jsxs)(L.a,{children:[Object(f.jsxs)(L.a.Col,{md:12,children:[Object(f.jsx)(R.a,{my:"xs",label:"Generated teams",labelPosition:"center",variant:"dashed"}),Object(f.jsxs)(D.a,{sx:function(e){return{textAlign:"center",padding:"10px 0 0 0",fontWeight:"bold"}},children:[Object(f.jsx)(E.a,{onClick:function(){i(r-1)},disabled:1===r,style:{float:"left",marginLeft:"10px"},children:Object(f.jsx)(W.a,{size:"40",color:1===r?"#ced4da":"#228be6"})}),"#",r," Best matchup ",(m.teamAtotalScore<m.teamBtotalScore?m.teamAtotalScore/m.teamBtotalScore*100:m.teamBtotalScore/m.teamAtotalScore*100).toLocaleString("en",{minimumFractionDigits:2,maximumFractionDigits:2}),"%",Object(f.jsx)(E.a,{onClick:function(){i(r+1)},disabled:r>=5,style:{float:"right",marginRight:"10px"},children:Object(f.jsx)(W.b,{size:"40",color:r>=5?"#ced4da":"#228be6"})})]})]}),Object(f.jsx)(L.a.Col,{md:6,children:Object(f.jsx)(Z.a,{shadow:"sm",padding:"lg",style:{paddingTop:0},children:Object(f.jsxs)(P.a,{position:"apart",style:{marginBottom:5,marginTop:t.spacing.sm},children:[Object(f.jsx)("div",{style:{width:"100%"},children:Object(f.jsxs)(J.a,{variant:"filled",style:{backgroundColor:"#bfefe1",padding:"18px 6px 18px 7px",float:"right"},children:[Object(f.jsxs)(k.a,{size:"md",weight:700,style:{float:"left"},color:"black",styles:{textTransform:"none !important"},children:["Team A ",Object(f.jsxs)("small",{children:["(",m.teamAtotalScore,")"]})]}),Object(f.jsx)("div",{className:ee.a.divcircle,children:Object(f.jsx)(q.a,{value:b.stamina,text:"".concat(b.stamina),styles:Object(q.b)({pathColor:"rgba(34, 139, 230, ".concat(b.stamina/100,")"),textColor:"#228be6",textSize:"40px"})})}),Object(f.jsx)("div",{className:ee.a.divcircle,children:Object(f.jsx)(q.a,{value:b.defense,text:"".concat(b.defense),styles:Object(q.b)({pathColor:"rgba(64, 192, 87, ".concat(b.defense/100,")"),textColor:"#40c057",textSize:"40px"})})}),Object(f.jsx)("div",{className:ee.a.divcircle,children:Object(f.jsx)(q.a,{value:b.attack,text:"".concat(b.attack),styles:Object(q.b)({pathColor:"rgba(250, 82, 82, ".concat(b.attack/100,")"),textColor:"#fa5252",textSize:"40px"})})})]})}),Object(f.jsx)("ul",{className:ee.a.list,children:b.map((function(e){return Object(f.jsx)(X,{id:e.id,name:e.name,attack:e.attack,defense:e.defense,stamina:e.stamina,imgSrc:e.imgSrc,hideCheckbox:!0,activeClass:"teama"},e.id)}))})]})})}),Object(f.jsx)(L.a.Col,{md:6,children:Object(f.jsx)(Z.a,{shadow:"sm",padding:"lg",style:{paddingTop:0},children:Object(f.jsxs)(P.a,{position:"apart",style:{marginBottom:5,marginTop:t.spacing.sm},children:[Object(f.jsxs)(J.a,{color:"yellow",variant:"filled",size:"lg",style:{backgroundColor:"#f7e5b0",padding:"18px 6px 18px 7px"},children:[Object(f.jsxs)(k.a,{size:"md",weight:700,style:{float:"left"},color:"black",children:["Team B ",Object(f.jsxs)("small",{children:["(",m.teamBtotalScore,")"]})]}),Object(f.jsx)("div",{className:ee.a.divcircle,children:Object(f.jsx)(q.a,{value:x.stamina,text:"".concat(x.stamina),styles:Object(q.b)({pathColor:"rgba(34, 139, 230, ".concat(x.stamina/100,")"),textColor:"#228be6",textSize:"40px"})})}),Object(f.jsx)("div",{className:ee.a.divcircle,children:Object(f.jsx)(q.a,{value:x.defense,text:"".concat(x.defense),styles:Object(q.b)({pathColor:"rgba(64, 192, 87, ".concat(x.defense/100,")"),textColor:"#40c057",textSize:"40px"})})}),Object(f.jsx)("div",{className:ee.a.divcircle,children:Object(f.jsx)(q.a,{value:x.attack,text:"".concat(x.attack),styles:Object(q.b)({pathColor:"rgba(250, 82, 82, ".concat(x.attack/100,")"),textColor:"#fa5252",textSize:"40px"})})})]}),Object(f.jsx)("ul",{className:ee.a.list,children:x.map((function(e){return Object(f.jsx)(X,{id:e.id,name:e.name,attack:e.attack,defense:e.defense,stamina:e.stamina,imgSrc:e.imgSrc,hideCheckbox:!0,activeClass:"teamb"},e.id)}))})]})})})]})]})};var ae=function(){var e=Object(c.useContext)(w),t=Object(i.useParams)(),a=Object(c.useState)(!0),n=Object(s.a)(a,2),r=n[0],o=n[1],l=Object(c.useState)(null),d=Object(s.a)(l,2),u=d[0],j=d[1],m=Object(c.useCallback)(Object(F.a)(M.a.mark((function a(){var c,n,r,i,s,l,d,u,m;return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(t),console.log("fetching data for ".concat(t.team," ...")),o(!0),j(null),a.prev=4,e.loadGroupName(t.team),a.next=8,fetch(G(t.team));case 8:if((c=a.sent).ok){a.next=11;break}throw new Error("Something went wrong!");case 11:return a.next=13,c.json();case 13:for(i in n=a.sent,r=[],n)s=Object(A.a)({id:i},n[i]),r.push(s);for(l=function(){for(var e=u[d],t=function(){var t=c[a],n=r.reduce((function(a,c){return a+H(c.playerScores,e.id,t)}),0),i=r.reduce((function(a,c){return a+(H(c.playerScores,e.id,t)>0?1:0)}),0);e[t]=Math.floor(n/i)},a=0,c=["attack","defense","stamina"];a<c.length;a++)t()},d=0,u=r;d<u.length;d++)l();e.loadPlayers(r.sort((function(e,t){return t.attack+t.defense+t.stamina-e.attack-e.defense-e.stamina}))),null!==localStorage.getItem("PlayerId")&&void 0!==(m=r.find((function(e){return e.id===localStorage.getItem("PlayerId")})))&&(e.loadProfilePlayerScores(m.playerScores),e.updateProfileName(m.name),e.updateProfileImgSrc(m.imgSrc)),a.next=25;break;case 22:a.prev=22,a.t0=a.catch(4),j(a.t0.message);case 25:o(!1);case 26:case"end":return a.stop()}}),a,null,[[4,22]])}))),[t.team]);return Object(c.useEffect)((function(){0===e.players.length?m():o(!1)}),[m,e.players.length]),r?Object(f.jsx)("section",{children:"Loading..."}):u?Object(f.jsx)("p",{children:u}):Object(f.jsx)("section",{children:Object(f.jsx)(te,{players:e.players,selectedPlayers:e.selectedPlayers})})},ce=a(11),ne=a(108),re=a(129),ie=a(107),se=a(68),oe=a.n(se),le=function(e){return Object(f.jsx)("div",{className:oe.a.card,children:e.children})},de=a(57),ue=a.n(de),je=a(69),me=function(e){var t=Object(c.useState)(!1),a=Object(s.a)(t,2),n=a[0],r=a[1],i=Object(c.useRef)();return Object(f.jsxs)(c.Fragment,{children:[!n&&Object(f.jsx)(re.a,{leftIcon:Object(f.jsx)(je.a,{}),onClick:function(e){r(!0)},style:{margin:"20px"},children:"Add New Player"}),n&&Object(f.jsx)(le,{children:Object(f.jsxs)("form",{className:ue.a.form,onSubmit:function(t){t.preventDefault();var a=i.current.value;e.onAddPlayer(a),r(!1)},children:[Object(f.jsx)(ie.a,{required:!0,label:"Name",placeholder:"Player name",ref:i}),Object(f.jsxs)("div",{className:ue.a.actions,children:[Object(f.jsx)(re.a,{type:"button",color:"gray",onClick:function(e){r(!1),i.current.value=""},children:"Cancel"}),Object(f.jsx)(re.a,{type:"submit",color:"indigo",ml:10,children:"Save"})]})]})})]})},be=a(66),fe=a(114),xe=a(113),pe=(a(95),a(38)),he=a.n(pe),Oe=function(e){var t=e.label,a=e.image,c=e.attack,n=e.defense,r=e.stamina;return Object(f.jsxs)(P.a,{noWrap:!0,children:[Object(f.jsx)(C.a,{src:a,radius:"xl",size:"lg"}),Object(f.jsxs)("div",{style:{width:"100%"},children:[Object(f.jsx)(k.a,{style:{float:"left"},children:t}),Object(f.jsx)("div",{className:he.a.divcircle,children:Object(f.jsx)(q.a,{value:r,text:"".concat(r),styles:Object(q.b)({pathColor:"rgba(34, 139, 230, ".concat(r/100,")"),textColor:"#228be6",textSize:"40px"})})}),Object(f.jsx)("div",{className:he.a.divcircle,children:Object(f.jsx)(q.a,{value:n,text:"".concat(n),styles:Object(q.b)({pathColor:"rgba(64, 192, 87, ".concat(n/100,")"),textColor:"#40c057",textSize:"40px"})})}),Object(f.jsx)("div",{className:he.a.divcircle,children:Object(f.jsx)(q.a,{value:c,text:"".concat(c),styles:Object(q.b)({pathColor:"rgba(250, 82, 82, ".concat(c/100,")"),textColor:"#fa5252",textSize:"40px"})})})]})]})},ge=function(){var e=Object(c.useContext)(w),t=Object(ne.a)(),a=Object(i.useParams)(),n=e.profileId,r=e.players,o=e.profilePlayerScores,l=e.initialItemIndex,d=Object(c.useState)(!1),u=Object(s.a)(d,2),j=u[0],m=u[1];void 0!==e.profilePlayerScores&&0!==e.profilePlayerScores.length||null==e.players.find((function(e){return e.id===n})).playerScores||e.loadProfilePlayerScores(e.players.find((function(e){return e.id===n})).playerScores);var b=function(){fetch(G(a.team).replace(".json","")+"/"+n+"/playerScores.json",{method:"PUT",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}}).then((function(){t.showNotification({title:"Scores update",message:"Data was saved",color:"teal",icon:Object(f.jsx)(be.a,{}),autoClose:2e3}),m(!1)}))},x=function(t,a,c){m(!0),e.updateProfilePlayerScore(t,a,c)};return Object(f.jsxs)(c.Fragment,{children:[Object(f.jsx)(fe.a,{initialItem:l,iconPosition:"right",onChange:function(t){for(var a=0;a<r.length;a++)if(!0===t[a]){e.updateInitialItemIndex(a);break}j&&b()},children:r.filter((function(e){return e.id!==n})).map((function(e){return Object(f.jsxs)(fe.a.Item,{label:Object(f.jsx)(Oe,{image:e.imgSrc,attack:H(o,e.id,"attack"),defense:H(o,e.id,"defense"),stamina:H(o,e.id,"stamina"),label:e.name}),onToggle:!0,children:[Object(f.jsx)(k.a,{children:"Atac"}),Object(f.jsx)(xe.a,{color:"red",min:11,defaultValue:H(o,e.id,"attack"),onChange:function(t){return x(e.id,"attack",t)}}),Object(f.jsx)(k.a,{children:"Defense"}),Object(f.jsx)(xe.a,{color:"green",min:11,defaultValue:H(o,e.id,"defense"),onChange:function(t){return x(e.id,"defense",t)}}),Object(f.jsx)(k.a,{children:"Stamina"}),Object(f.jsx)(xe.a,{min:11,defaultValue:H(o,e.id,"stamina"),onChange:function(t){return x(e.id,"stamina",t)}})]},e.id)}))}),j&&Object(f.jsx)("div",{className:he.a.actions,children:Object(f.jsx)(re.a,{type:"button",color:"indigo",ml:10,onClick:function(){b()},children:"Save"})})]})};var ye=function(){var e=Object(c.useContext)(w),t=Object(i.useParams)(),a=Object(ne.a)(),n=e.profileId,r=Object(i.useHistory)();return null!==e.players&&0!==e.players.length||r.replace("/".concat(t.team,"/")),0!==n&&null!==n||(a.showNotification({title:"Choose profile",message:"You must choose your profile to score other players...",color:"teal",autoClose:4e3}),r.replace("/".concat(t.team,"/profile"))),Object(f.jsxs)(c.Fragment,{children:[Object(f.jsx)("h2",{children:"Manage players"}),void 0!==e.players&&e.players.length<15&&Object(f.jsx)("p",{children:Object(f.jsx)("i",{children:"Make sure all playes are added to list"})}),Object(f.jsx)(me,{onAddPlayer:function(a){var c={id:Math.max.apply(Math,e.players.map((function(e){return e.y}))),name:a},n=Object(ce.a)(e.players);n.push(c),e.loadPlayers(n),fetch(G(t.team),{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((function(){console.log("submitted...")}))}}),null!==n&&Object(f.jsx)(ge,{})]})},ve=a(12),Se=a(111),Pe=a(44),Ce=a(58),ke=a.n(Ce),Ie=a(70),_e=a.n(Ie),Ne=function(e){return Object(f.jsx)(E.a,{onClick:function(){return e.onAvatarClicked(e.imgSrc)},className:_e.a.actionicon,children:Object(f.jsx)(C.a,{src:e.imgSrc,radius:"xl",size:"lg",style:{backgroundColor:e.isSelected?"#5481a9":"transparent"}})})},we=["https://img.icons8.com/clouds/256/000000/futurama-bender.png","https://img.icons8.com/clouds/2x/homer-simpson.png","https://img.icons8.com/clouds/256/000000/futurama-mom.png","https://img.icons8.com/clouds/2x/spongebob-squarepants.png","https://img.icons8.com/clouds/2x/mando.png","https://img.icons8.com/clouds/2x/stormtrooper.png","https://img.icons8.com/clouds/2x/kokichi.png","https://img.icons8.com/clouds/2x/Bakugou.png","https://img.icons8.com/bubbles/2x/walter-white.png","https://img.icons8.com/clouds/2x/super-mario.png","https://img.icons8.com/clouds/2x/anonymous-mask.png","https://img.icons8.com/clouds/2x/jake.png","https://img.icons8.com/clouds/2x/nurse-female.png","https://img.icons8.com/clouds/2x/camo-cream.png","https://img.icons8.com/clouds/2x/user-female.png","https://img.icons8.com/clouds/2x/user-male.png","https://img.icons8.com/clouds/2x/winner.png","https://img.icons8.com/clouds/2x/gender-neutral-user.png","https://img.icons8.com/clouds/2x/santa.png","https://img.icons8.com/clouds/2x/champagne-bottle.png","https://img.icons8.com/clouds/2x/edvard-munch.png","https://img.icons8.com/clouds/2x/frida-kahlo.png","https://img.icons8.com/clouds/2x/fraud.png","https://img.icons8.com/clouds/2x/comedy.png"],Be=function(e){var t=Object(c.useContext)(w);Object(c.useEffect)((function(){var a=t.players.find((function(t){return t.id===e.id}));i(void 0===a?"":a.name),u(void 0===a?"":a.imgSrc)}),[e.id]);var a=Object(c.useState)(""),n=Object(s.a)(a,2),r=n[0],i=n[1],o=Object(c.useState)(""),l=Object(s.a)(o,2),d=l[0],u=l[1],j=function(e){u(e)};return Object(f.jsxs)(c.Fragment,{children:[Object(f.jsx)("hr",{style:{marginBottom:"20px"}}),Object(f.jsx)(le,{children:Object(f.jsxs)("form",{className:ke.a.form,onSubmit:function(t){t.preventDefault(),e.onUpdatePlayer(r,d)},children:[Object(f.jsx)(ie.a,{required:!0,label:"Name",placeholder:"Player name",value:r,onChange:function(e){return i(e.target.value)}}),we.map((function(e){return Object(f.jsx)(Ne,{imgSrc:e,isSelected:e===d,onAvatarClicked:j},e)})),Object(f.jsx)("div",{className:ke.a.actions,children:Object(f.jsx)(re.a,{type:"submit",color:"indigo",ml:10,children:"Save"})})]})})]})},ze=["id","image","label"],Ae=function(){var e=Object(c.useContext)(w),t=Object(ne.a)(),a=Object(i.useParams)(),n=e.profileId,r=Object(Pe.useHistory)();null!==e.players&&0!==e.players.length||r.replace("/".concat(a.team,"/"));var s=e.players.map((function(e){return{id:e.id,image:e.imgSrc,label:e.name,value:e.id}})),o=Object(c.forwardRef)((function(e,t){e.id;var a=e.image,c=e.label,n=Object(ve.a)(e,ze);return Object(f.jsx)("div",Object(A.a)(Object(A.a)({ref:t},n),{},{children:Object(f.jsxs)(P.a,{noWrap:!0,children:[Object(f.jsx)(C.a,{src:a}),Object(f.jsx)("div",{children:Object(f.jsx)(k.a,{children:c})})]})}))}));return Object(f.jsxs)(c.Fragment,{children:[Object(f.jsx)(Se.a,{label:"Choose profile",placeholder:"Identify yourself",itemComponent:o,data:s,value:n,maxDropdownHeight:400,nothingFound:"Nobody here",onChange:function(t){if(null!==t){e.updateProfileId(t),localStorage.setItem("PlayerId",t);var a=e.players.find((function(e){return e.id===t}));e.updateProfileName(a.name),e.updateProfileImgSrc(a.imgSrc);var c=Object(A.a)(Object(A.a)({},a),{},{playerScores:e.playerScores}),n=[].concat(Object(ce.a)(e.players.filter((function(e){return e.id!==t}))),[c]);e.loadPlayers(n),e.loadProfilePlayerScores(e.players.find((function(e){return e.id===t})).playerScores)}}}),null!==n&&Object(f.jsx)(Be,{id:n,onUpdatePlayer:function(c,r){var i=e.players.find((function(e){return e.id===n})),s=Object(A.a)(Object(A.a)({},i),{},{name:c,imgSrc:r});e.updateProfileName(s.name),e.updateProfileImgSrc(s.imgSrc),fetch(G(a.team).replace(".json","")+"/"+s.id+".json",{method:"PUT",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(){var a=[].concat(Object(ce.a)(e.players.filter((function(e){return e.id!==n}))),[s]);e.loadPlayers(a),t.showNotification({title:"Profile update",message:"Data was saved",color:"teal",icon:Object(f.jsx)(be.a,{}),autoClose:2e3})}))}})]})},Fe=function(){return Object(f.jsx)(Ae,{})};var Te=function(){return Object(f.jsx)(c.Fragment,{children:Object(f.jsxs)(i.Switch,{children:[Object(f.jsx)(i.Route,{path:"/",exact:!0,children:Object(f.jsx)(z,{})}),Object(f.jsx)(i.Route,{path:"/team-generator",exact:!0,children:Object(f.jsx)(z,{})}),Object(f.jsx)(i.Route,{path:"/test",exact:!0,children:Object(f.jsxs)(c.Fragment,{children:[Object(f.jsx)(z,{}),Object(f.jsx)(z,{})]})}),Object(f.jsx)(i.Route,{path:"/:team(waldorf|scoala18)",exact:!0,children:Object(f.jsx)(B,{children:Object(f.jsx)(ae,{})})}),Object(f.jsx)(i.Route,{path:"/:team-manage",exact:!0,children:Object(f.jsx)(B,{children:Object(f.jsx)(ye,{})})}),Object(f.jsx)(i.Route,{path:"/:team-profile",exact:!0,children:Object(f.jsx)(B,{children:Object(f.jsx)(Fe,{})})})]})})},Me=a(112);r.a.render(Object(f.jsx)(N,{children:Object(f.jsx)(Pe.BrowserRouter,{basename:"/team-generator",children:Object(f.jsx)(O.a,{theme:{colorScheme:"light"},children:Object(f.jsx)(Me.a,{children:Object(f.jsx)(Te,{})})})})}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.f10799fe.chunk.js.map